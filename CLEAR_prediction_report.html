<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title> CLEAR Report</title>
        <link rel="stylesheet" type="text/css" href="CLEAR.css">
    </head>

    <body>

        <div class="first-div">
        <h1>CLEAR Report:&nbsp   <span class="CLEARdataset">
            PIMA</span></h1>
            <hr class="clear">
            <span class="main-text2"> Prediction to be explained:&nbsp Observation&nbsp<span class="AI_prob">1</span> has <span class="AI_prob">0.6</span> probability of diabetes </span>    
        <hr class="clear">
        <h2><i>b</i>-Counterfactual Results</h2>
        </div>   
        
        
        <div class="flexi-cont"> 
            <div class="actual-counterfactuals">
               <p class= "main-text">These are the results of carrying out a grid search on the <strong>target</strong>  AI system. <br><span class="smallerText">("Counterfactual value" = value needed to be at the decision boundary).</span> </p>  
              <p class= "counterfactual-table" > <table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>input value</th>
      <th>actual b-counterfactual value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pregnancy</td>
      <td>0.37</td>
      <td>-0.49</td>
    </tr>
    <tr>
      <td>Glucose</td>
      <td>0.54</td>
      <td>0.38</td>
    </tr>
    <tr>
      <td>Skin</td>
      <td>0.017</td>
      <td>-1.89</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>2.5</td>
      <td>0.09</td>
    </tr>
    <tr>
      <td>Age</td>
      <td>0.36</td>
      <td>0.15</td>
    </tr>
  </tbody>
</table></p>
            </div>
            
            <div class= "reg-formula">
                <p id="regression-formula">prediction = 0.46 - 0.048 BloodP - 0.0056 Skin + 0.15 BMI + 0.0038 Pregnancy + 0.39 Glucose + 0.058 Insulin + 0.059 DiabF + 0.13 Age + 0.056 (Insulin*Age) + 0.041 (Pregnancy*Insulin) - 0.044 Age<sup>2</sup> - 0.062 (Glucose*BloodP) - 0.058 (BloodP*Insulin) - 0.032 BMI<sup>2</sup></p>       
                
                <form  id="Simplify-regression">
                    <input type="checkbox" id="simplify" />
                    <label for="simplify">Simplify display of regression equation</label>	    	
	            </form>  
                
                <form>      
                    <fieldset id="Select-features">      
                        <legend>Select Features</legend>      
                        <button id="Select-button" type="button">Show</button>
                    </fieldset>      
                </form>
                <p class="main-text", id= "simplified-equation"> </p> <br>
            </div>
                   
            <div class="regression-counterfactuals">
                <p class="main-text"> Regression model's estimates of counterfactual values:</p>
                <br><br>
                <p class= "counterfactual-table" ><table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>estimated b-counterfactual value</th>
      <th>b-counterfactual fidelity error</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pregnancy</td>
      <td>-16</td>
      <td>16</td>
    </tr>
    <tr>
      <td>Glucose</td>
      <td>0.058</td>
      <td>0.32</td>
    </tr>
    <tr>
      <td>Skin</td>
      <td>17</td>
      <td>19</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>0.65</td>
      <td>0.56</td>
    </tr>
    <tr>
      <td>Age</td>
      <td>-0.38</td>
      <td>0.53</td>
    </tr>
  </tbody>
</table></p>

            </div>
        </div>    
            
        
        <div class="clearfix"></div>
        <br>
     <hr>    
        <h2>Regression Information</h2> 
        <section class= "regress-section">
        <div class= "reg-div", id="reg-div">
            <p class="main-text"> Key Features.<br><span class="smallerText">(These are the features with largest absolute <em>coefficients</em>).</span>  
            </p>
            <p id="regression-table"><table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>input value</th>
      <th>coeff</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Glucose</td>
      <td>0.54</td>
      <td>0.39</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>2.5</td>
      <td>0.15</td>
    </tr>
    <tr>
      <td>Age</td>
      <td>0.36</td>
      <td>0.13</td>
    </tr>
    <tr>
      <td>(Glucose_BloodP)</td>
      <td>1.7</td>
      <td>-0.062</td>
    </tr>
    <tr>
      <td>DiabF</td>
      <td>-0.77</td>
      <td>0.059</td>
    </tr>
    <tr>
      <td>(BloodP_Insulin)</td>
      <td>0.16</td>
      <td>-0.058</td>
    </tr>
    <tr>
      <td>Insulin</td>
      <td>0.051</td>
      <td>0.058</td>
    </tr>
    <tr>
      <td>(Insulin_Age)</td>
      <td>0.018</td>
      <td>0.056</td>
    </tr>
    <tr>
      <td>BloodP</td>
      <td>3.1</td>
      <td>-0.048</td>
    </tr>
    <tr>
      <td>Age_sqrd</td>
      <td>0.13</td>
      <td>-0.044</td>
    </tr>
  </tbody>
</table> </p>       
        </div>
        
        <div class= "reg-GRAPH">
            <img src="CLEAR_plot.png" alt="Regression plot">         
        </div>

        <div>
             <p class="main-text3"> &nbsp Quality of regression statistic:<br><br>
                &nbsp Adjusted R-Squared =
            0.86</p>
        </div>    
       </section>
        
    
        
       <div id="feature-list"> 
           <p id="features"> ['Pregnancy', 'Glucose', 'BloodP', 'Skin', 'Insulin', 'BMI', 'DiabF', 'Age'] </p>  
           <p id="spreadsheet-data"> [3.0767556169068184, 0.016744759537567572, 2.519890136339334, 0.3744085492256247, 0.53693120065909, 0.050803839150578116, -0.770276049307099, 0.3597727983070522, 0.018277839375944863, 0.01902139171145995, 0.12943646640168688, 1.652006087520377, 0.15631099746697175, 6.349846299220266] </p>  
           <p id="weights"> [-0.04827780976593031, -0.0056134994499474865, 0.15385491266569779, 0.003835410498457781, 0.39294646648444176, 0.057523960428184785, 0.059350008414438236, 0.1272027771596374, 0.05621807162262462, 0.04130007388558816, -0.04361888312995049, -0.06154450022421916, -0.058195768230681066, -0.03216192249743127] </p>
           <p id ="intercept">0.46192342318524204</p>
           <p id ="regression-type">multiple</p>
       </div>
        
        
    <script src="CLEARapp.js"></script>
  </body>
</html>