<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title> CLEAR Report</title>
        <link rel="stylesheet" type="text/css" href="CLEAR.css">
    </head>

    <body>

        <div class="first-div">
        <h1>CLEAR Report:&nbsp   <span class="CLEARdataset">
            PIMA</span></h1>
            <hr class="clear">
            <span class="main-text2"> Prediction to be explained:&nbsp Observation&nbsp<span class="AI_prob">10</span> has <span class="AI_prob">0.97</span> probability of diabetes </span>    
        <hr class="clear">
        <h2><i>b</i>-Counterfactual Results</h2>
        </div>   
        
        
        <div class="flexi-cont"> 
            <div class="actual-counterfactuals">
               <p class= "main-text">These are the results of carrying out a grid search on the <strong>target</strong>  AI system. <br><span class="smallerText">("Counterfactual value" = value needed to be at the decision boundary).</span> </p>  
              <p class= "counterfactual-table" > <table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>input value</th>
      <th>actual b-counterfactual value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Glucose</td>
      <td>0.96</td>
      <td>-1.39</td>
    </tr>
  </tbody>
</table></p>
            </div>
            
            <div class= "reg-formula">
                <p id="regression-formula">prediction = 0.47 - 0.051 BloodP + 0.02 Skin + 0.17 BMI + 0.14 Pregnancy + 0.3 Glucose - 0.038 Insulin + 0.076 DiabF + 0.31 Age - 0.04 (IndicatorFeature*Age) - 0.094 (Pregnancy*Age) - 0.065 Glucose<sup>2</sup> - 0.078 (Glucose*BMI) - 0.062 (Glucose*Age) - 0.049 Age<sup>2</sup></p>       
                
                <form  id="Simplify-regression">
                    <input type="checkbox" id="simplify" />
                    <label for="simplify">Simplify display of regression equation</label>	    	
	            </form>  
                
                <form>      
                    <fieldset id="Select-features">      
                        <legend>Select Features</legend>      
                        <button id="Select-button" type="button">Show</button>
                    </fieldset>      
                </form>
                <p class="main-text", id= "simplified-equation"> </p> <br>
            </div>
                   
            <div class="regression-counterfactuals">
                <p class="main-text"> Regression model's estimates of counterfactual values:</p>
                <br><br>
                <p class= "counterfactual-table" ><table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>estimated b-counterfactual value</th>
      <th>b-counterfactual fidelity error</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Glucose</td>
      <td>-1.1</td>
      <td>0.28</td>
    </tr>
  </tbody>
</table></p>

            </div>
        </div>    
            
        
        <div class="clearfix"></div>
        <br>
     <hr>    
        <h2>Regression Information</h2> 
        <section class= "regress-section">
        <div class= "reg-div", id="reg-div">
            <p class="main-text"> Key Features.<br><span class="smallerText">(These are the features with largest absolute <em>coefficients</em>).</span>  
            </p>
            <p id="regression-table"><table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>input value</th>
      <th>coeff</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Age</td>
      <td>0.79</td>
      <td>0.31</td>
    </tr>
    <tr>
      <td>Glucose</td>
      <td>0.96</td>
      <td>0.3</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>0.38</td>
      <td>0.17</td>
    </tr>
    <tr>
      <td>Pregnancy</td>
      <td>0.98</td>
      <td>0.14</td>
    </tr>
    <tr>
      <td>(Pregnancy_Age)</td>
      <td>0.77</td>
      <td>-0.094</td>
    </tr>
    <tr>
      <td>(Glucose_BMI)</td>
      <td>0.37</td>
      <td>-0.078</td>
    </tr>
    <tr>
      <td>DiabF</td>
      <td>0.63</td>
      <td>0.076</td>
    </tr>
    <tr>
      <td>Glucose_sqrd</td>
      <td>0.92</td>
      <td>-0.065</td>
    </tr>
    <tr>
      <td>(Glucose_Age)</td>
      <td>0.76</td>
      <td>-0.062</td>
    </tr>
    <tr>
      <td>BloodP</td>
      <td>-0.47</td>
      <td>-0.051</td>
    </tr>
  </tbody>
</table> </p>       
        </div>
        
        <div class= "reg-GRAPH">
            <img src="CLEAR_plot.png" alt="Regression plot">         
        </div>

        <div>
             <p class="main-text3"> &nbsp Quality of regression statistic:<br><br>
                &nbsp Adjusted R-Squared =
            0.98</p>
        </div>    
       </section>
        
    
        
       <div id="feature-list"> 
           <p id="features"> ['Pregnancy', 'Glucose', 'BloodP', 'Skin', 'Insulin', 'BMI', 'DiabF', 'Age', 'IndicatorFeature'] </p>  
           <p id="spreadsheet-data"> [-0.47218794983380563, 1.437617410038844, 0.38007938007846775, 0.9762615442425168, 0.9612461432883811, 2.4721508305029607, 0.6312336482937541, 0.7935986627827464, 0.0, 0.7747598560370803, 0.9239941479867869, 0.36534983824386585, 0.7628436539187314, 0.6297988375705632] </p>  
           <p id="weights"> [-0.051331826304763226, 0.020427154734992375, 0.16767756248550683, 0.13657794954239869, 0.29527705583445985, -0.038260255112148596, 0.0759012227844578, 0.31021132356709946, -0.0403305148879675, -0.094498334169005, -0.06522413664463247, -0.07806774301487243, -0.062298543605196134, -0.048796404482886184] </p>
           <p id ="intercept">0.4744250571484426</p>
           <p id ="regression-type">multiple</p>
       </div>
        
        
    <script src="CLEARapp.js"></script>
  </body>
</html>