<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title> CLIME Report</title>
        <link rel="stylesheet" type="text/css" href="CLEAR.css">
    </head>

    <body>

        <div class="first-div">
        <h1>CLIME Report:&nbsp   <span class="CLIMEdataset">
            PIMA Indians Diabetes</span></h1>
            <hr class="clear">
            <span class="main-text2"> Prediction to be explained:&nbsp Observation&nbsp<span class="AI_prob">1</span> has <span class="AI_prob">0.6</span> probability of diabetes </span>    
        <hr class="clear">
        
        </div>      
        <div>
            <h2>Counterfactual Results</h2>
            <p class= "main-text">These are the results of carrying out a grid search on the <strong>target</strong>  AI system. <br><span class="smallerText">("Counterfactual value" = value needed to be at the decision boundary).</span> </p>  
            
           <table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>input value</th>
      <th>counterfactual value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pregnancies</td>
      <td>0.37</td>
      <td>-0.49</td>
    </tr>
    <tr>
      <td>Glucose</td>
      <td>0.54</td>
      <td>0.38</td>
    </tr>
    <tr>
      <td>SkinThickness</td>
      <td>0.017</td>
      <td>-1.89</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>2.5</td>
      <td>0.09</td>
    </tr>
    <tr>
      <td>Age</td>
      <td>0.36</td>
      <td>0.15</td>
    </tr>
  </tbody>
</table>

        </div>
        <br>
     <hr>    
        <h2>Regression Results</h2> 
        <section class= "regress-section">
        <div class= "reg-div">
            <p class="main-text"> Key Features.<br><span class="smallerText">(These are the features with largest absolute <em>coefficients</em>).</span>  
            </p>
            <p id="regression-table"><table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>input value</th>
      <th>coeff</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Glucose</td>
      <td>0.54</td>
      <td>1.1</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>2.5</td>
      <td>0.68</td>
    </tr>
    <tr>
      <td>DiabetesPedigreeFunction</td>
      <td>-0.77</td>
      <td>0.23</td>
    </tr>
    <tr>
      <td>Insulin_Age</td>
      <td>0.018</td>
      <td>0.2</td>
    </tr>
    <tr>
      <td>Age</td>
      <td>0.36</td>
      <td>0.2</td>
    </tr>
    <tr>
      <td>BloodPressure</td>
      <td>3.1</td>
      <td>-0.16</td>
    </tr>
    <tr>
      <td>BMI_sqrd</td>
      <td>6.3</td>
      <td>-0.14</td>
    </tr>
    <tr>
      <td>Pregnancies</td>
      <td>0.37</td>
      <td>0.11</td>
    </tr>
    <tr>
      <td>Insulin</td>
      <td>0.051</td>
      <td>-0.029</td>
    </tr>
    <tr>
      <td>SkinThickness</td>
      <td>0.017</td>
      <td>0.013</td>
    </tr>
  </tbody>
</table> </p>       
        </div>
        <div class= "reg-div1">
            <img src="CLEAR_plot.png" alt="Regression plot">
            <p id="regression-formula"><font size = "4.5">prediction =  [ 1 + e<sup><b>-w<sup>T</sup>x</sup></b> ]<sup> -1</sup></font size><br><br><font size = "4.5"><b><i>w</i></b><sup>T</sup><b><i>x</font size></i></b> =  -0.45 - 0.16 BloodPressure + 0.013 SkinThickness + 0.68 BMI + 0.11 Pregnancies + 1.1 Glucose - 0.029 Insulin + 0.23 DiabetesPedigreeFunction + 0.2 Age + 0.2 Insulin*Age - 0.14 BMI sqrd</p>
                  
        </div>
        <div>
           <p class="main-text"> Regression model's estimates of counterfactual values:</p><table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>counterfactual value</th>
      <th>fidelity error</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pregnancies</td>
      <td>-3.5</td>
      <td>3</td>
    </tr>
    <tr>
      <td>Glucose</td>
      <td>0.13</td>
      <td>0.25</td>
    </tr>
    <tr>
      <td>SkinThickness</td>
      <td>-35</td>
      <td>33</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>0.72</td>
      <td>0.63</td>
    </tr>
    <tr>
      <td>Age</td>
      <td>-1.7</td>
      <td>1.8</td>
    </tr>
  </tbody>
</table>
            <br><br><br>
            <p class="main-text3"> &nbsp Quality of regression statistic:<br><br>
                &nbsp prsquared =
            0.22</p>
        </div>    
       </section>
        
        <form id="Simplify-regression">
            <input type="checkbox" id="simplify" />
            <label for="simplify">Simplify display of regression equation</label>	    	
	    </form>
        
        <form>      
            <fieldset id="Select-features">      
                <legend>Select Features</legend>      
         
            </fieldset>      
        </form>
        
        <div>
            <p class="main-text", id= "simplified-equation"> </p> <br>
        </div>
        
        
       <div id="feature-list"> 
           <p id="features"> ['Pregnancies', 'Glucose', 'BloodPressure', 'SkinThickness', 'Insulin', 'BMI', 'DiabetesPedigreeFunction', 'Age'] </p>  
           <p id="spreadsheet-data"> [3.0767556169068184, 0.016744759537567572, 2.519890136339334, 0.3744085492256247, 0.53693120065909, 0.050803839150578116, -0.770276049307099, 0.3597727983070522, 0.018277839375944863, 6.349846299220266] </p>  
           <p id="weights"> [-0.44870704797505606, -0.15937329443333334, 0.012533536466502359, 0.6847995445171243, 0.1125960656744145, 1.0750048560460153, -0.029092035855266686, 0.22859082048357662, 0.2017938903200238, 0.20337764244899217, -0.1367855046362385] </p>
           <p id ="intercept">-0.44870704797505606</p>
           <p id ="regression-type">logistic</p>
       </div>
        
        
    <script src="CLEARapp.js"></script>
  </body>
</html>